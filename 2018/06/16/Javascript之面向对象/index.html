<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
<meta name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">

    <meta name="author" content="Brace">


    <meta name="subtitle" content="Among all things, the most beautiful things never fade">




<title>Javascript之面向对象 | Brace</title>



    <link rel="icon" href="/favicon.ico">




    <!-- stylesheets list from _config.yml -->
    
    <link rel="stylesheet" href="/css/style.css">
    



    <!-- scripts list from _config.yml -->
    
    <script src="/js/script.js"></script>
    
    <script src="/js/tocbot.min.js"></script>
    



    
    
        
    


<meta name="generator" content="Hexo 4.2.0"></head>
<body>
    <div class="wrapper">
        <header>
    <nav class="navbar">
        <div class="container">
            <div class="navbar-header header-logo"><a href="/">Bentham&#39;s Blog</a></div>
            <div class="menu navbar-right">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
                <input id="switch_default" type="checkbox" class="switch_default">
                <label for="switch_default" class="toggleBtn"></label>
            </div>

        </div>
    </nav>

    
    <nav class="navbar-mobile" id="nav-mobile">
        <div class="container">
            <div class="navbar-header">
                <div>
                    <a href="/">Bentham&#39;s Blog</a><a id="mobile-toggle-theme">·&nbsp;Light</a>
                </div>
                <div class="menu-toggle" onclick="mobileBtn()">&#9776; Menu</div>
            </div>
            <div class="menu" id="mobile-menu">
                
                    <a class="menu-item" href="/archives">Posts</a>
                
                    <a class="menu-item" href="/category">Categories</a>
                
                    <a class="menu-item" href="/tag">Tags</a>
                
                    <a class="menu-item" href="/about">About</a>
                
            </div>
        </div>
    </nav>

</header>
<script>
    var mobileBtn = function f() {
        var toggleMenu = document.getElementsByClassName("menu-toggle")[0];
        var mobileMenu = document.getElementById("mobile-menu");
        if(toggleMenu.classList.contains("active")){
           toggleMenu.classList.remove("active")
            mobileMenu.classList.remove("active")
        }else{
            toggleMenu.classList.add("active")
            mobileMenu.classList.add("active")
        }
    }
</script>
        <div class="main">
            <div class="container">
    
    
        <div class="post-toc">
    <div class="tocbot-list">
    </div>
    <div class="tocbot-list-menu">
        <a class="tocbot-toc-expand" onclick="expand_toc()">Expand all</a>
        <a onclick="go_top()">Back to top</a>
        <a onclick="go_bottom()">Go to bottom</a>
    </div>
</div>

<script>
    document.ready(
        function () {
            tocbot.init({
                tocSelector: '.tocbot-list',
                contentSelector: '.post-content',
                headingSelector: 'h1, h2, h3, h4, h5',
                collapseDepth: 1,
                orderedList: false,
                scrollSmooth: true,
            })
        }
    )

    function expand_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 6,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "collapse_toc()");
        b.innerHTML = "Collapse all"
    }

    function collapse_toc() {
        var b = document.querySelector(".tocbot-toc-expand");
        tocbot.init({
            tocSelector: '.tocbot-list',
            contentSelector: '.post-content',
            headingSelector: 'h1, h2, h3, h4, h5',
            collapseDepth: 1,
            orderedList: false,
            scrollSmooth: true,
        });
        b.setAttribute("onclick", "expand_toc()");
        b.innerHTML = "Expand all"
    }

    function go_top() {
        window.scrollTo(0, 0);
    }

    function go_bottom() {
        window.scrollTo(0, document.body.scrollHeight);
    }

</script>
    

    
    <article class="post-wrap">
        <header class="post-header">
            <h1 class="post-title">Javascript之面向对象</h1>
            
                <div class="post-meta">
                    
                        Author: <a itemprop="author" rel="author" href="/">Brace</a>
                    

                    
                        <span class="post-time">
                        Date: <a href="#">June 16, 2018&nbsp;&nbsp;21:42:17</a>
                        </span>
                    
                    
                </div>
            
        </header>

        <div class="post-content">
            <h2 id="JS基本介绍"><a href="#JS基本介绍" class="headerlink" title="JS基本介绍"></a>JS基本介绍</h2><ul>
<li>JS的用途：Javascript可以实现浏览器端、服务器端(nodejs)。。。</li>
<li>浏览器端JS由以下三个部分组成：<ul>
<li>ECMAScript：基础语法(数据类型、运算符、函数。。。)</li>
<li>BOM(浏览器对象模型)：window、location、history、navigator。。。</li>
<li>DOM(文档对象模型)：div、p、span。。。</li>
</ul>
</li>
<li>ECMAScript又名es，有以下重大版本：<ul>
<li>旧时代：<ul>
<li>es1.0。。。es3.1</li>
</ul>
</li>
<li>新时代：<ul>
<li>es5</li>
<li>es6(es2015)</li>
<li>es7(es2016)、es8(es2017)</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><ul>
<li><p>基本数据类型——值类型：(数字、字符串、布尔值、null、undefined)</p>
</li>
<li><p>复杂数据类型——引用类型：(对象)</p>
<ul>
<li>数组</li>
<li>函数</li>
<li>正则表达式</li>
<li>Date</li>
</ul>
</li>
</ul>
<h2 id="对象的基本使用"><a href="#对象的基本使用" class="headerlink" title="对象的基本使用"></a>对象的基本使用</h2><h3 id="创建一个对象"><a href="#创建一个对象" class="headerlink" title="创建一个对象"></a>创建一个对象</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> student=&#123; </span><br><span class="line">    name:<span class="string">"李白"</span> , <span class="comment">//student有一个name属性，值为"李白"</span></span><br><span class="line">    grade:<span class="string">"初一"</span> ,</span><br><span class="line">    <span class="comment">//a、student有一个say属性，值为一个函数</span></span><br><span class="line">    <span class="comment">//b、student有一个say方法</span></span><br><span class="line">    say:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"你好"</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    run:<span class="function"><span class="keyword">function</span>(<span class="params">speed</span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"正在以"</span>+speed+<span class="string">"米/秒的速度奔跑"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="对象是键值对的集合：对象是由属性和方法构成的-ps：也有说法为：对象里面皆属性，认为方法也是一个属性"><a href="#对象是键值对的集合：对象是由属性和方法构成的-ps：也有说法为：对象里面皆属性，认为方法也是一个属性" class="headerlink" title="对象是键值对的集合：对象是由属性和方法构成的 (ps：也有说法为：对象里面皆属性，认为方法也是一个属性)"></a>对象是键值对的集合：对象是由属性和方法构成的 (ps：也有说法为：对象里面皆属性，认为方法也是一个属性)</h3><ul>
<li>name是属性    grade是属性</li>
<li>say是方法     run是方法</li>
</ul>
<h3 id="对象属性操作"><a href="#对象属性操作" class="headerlink" title="对象属性操作"></a>对象属性操作</h3><h4 id="获取属性："><a href="#获取属性：" class="headerlink" title="获取属性："></a>获取属性：</h4><h4 id="第一种方式：-语法"><a href="#第一种方式：-语法" class="headerlink" title="第一种方式：.语法"></a>第一种方式：.语法</h4><ul>
<li>student.name      获取到name属性的值，为：”李白”</li>
<li>student.say       获取到一个函数</li>
</ul>
<h4 id="第二种方式：-语法"><a href="#第二种方式：-语法" class="headerlink" title="第二种方式：[]语法"></a>第二种方式：[]语法</h4><ul>
<li>student[“name”]   等价于student.name</li>
<li>student[“say”]    等价于student.say</li>
</ul>
<h4 id="号外：2种方式的差异："><a href="#号外：2种方式的差异：" class="headerlink" title="号外：2种方式的差异："></a>号外：2种方式的差异：</h4><ul>
<li><p>.语法更方便，但是坑比较多(有局限性)，比如：</p>
<ul>
<li>.后面不能使用js中的关键字、保留字(class、this、function。。。)</li>
<li>.后面不能使用数字<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj=&#123;&#125;;</span><br><span class="line">obj.this=<span class="number">5</span>; <span class="comment">//语法错误</span></span><br><span class="line">obj<span class="number">.0</span>=<span class="number">10</span>;   <span class="comment">//语法错误</span></span><br></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>[]使用更广泛</p>
<ul>
<li>o1[变量name]</li>
<li>[“class”]、[“this”]都可以随意使用 <code>obj[&quot;this&quot;]=10</code></li>
<li>[0]、[1]、[2]也可以使用       <ul>
<li><code>obj[3]=50 = obj[&quot;3&quot;]=50</code>     </li>
<li>思考：为什么obj[3]=obj[“3”]</li>
</ul>
</li>
<li>甚至还可以这样用：[“[object Array]”]<ul>
<li>jquery里面就有这样的实现</li>
</ul>
</li>
<li>也可以这样用：[“{abc}”]<ul>
<li>给对象添加了{abc}属性</li>
</ul>
</li>
</ul>
</li>
</ul>
<h4 id="设置属性"><a href="#设置属性" class="headerlink" title="设置属性"></a>设置属性</h4><ul>
<li><code>student[&quot;gender&quot;]=&quot;男&quot;</code>    等价于：    <code>student.gender=&quot;男&quot;</code><ul>
<li>含义：如果student对象中没有gender属性，就添加一个gender属性，值为”男”</li>
<li>如果student对象中有gender属性，就修改gender属性的值为”男”</li>
</ul>
</li>
<li>案例1：<code>student.isFemale=true</code></li>
<li>案例2：<code>student[&quot;children&quot;]=[1,2,5]</code></li>
<li>案例3：<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">student.toShanghai=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;   </span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"正在去往上海的路上"</span>)   </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="删除属性"><a href="#删除属性" class="headerlink" title="删除属性"></a>删除属性</h4><ul>
<li>delete student[“gender”]      </li>
<li>delete student.gender</li>
</ul>
<h2 id="通过构造函数创建对象"><a href="#通过构造函数创建对象" class="headerlink" title="通过构造函数创建对象"></a>通过构造函数创建对象</h2><h3 id="构造函数创建对象的例子："><a href="#构造函数创建对象的例子：" class="headerlink" title="构造函数创建对象的例子："></a>构造函数创建对象的例子：</h3><ul>
<li><p>var xiaoming = new Object()     –&gt;   var xiaoming = {};  </p>
</li>
<li><p>var now = new Date() </p>
</li>
<li><p>var rooms = new Array(1,3,5)    –&gt;   var rooms = [1,3,5]</p>
</li>
<li><p><code>var isMale=/123/;</code>   ==&gt; <code>var isMale=new RegExp(&quot;123&quot;)</code></p>
<ul>
<li>isMale是通过RegExp构造函数创建出来的对象</li>
<li>isMale是RegExp构造函数的实例</li>
</ul>
</li>
<li><p>以上例子中，Object、Date、Array都是内置的构造函数</p>
</li>
</ul>
<h2 id="自定义一个构造函数来创建对象"><a href="#自定义一个构造函数来创建对象" class="headerlink" title="自定义一个构造函数来创建对象"></a>自定义一个构造函数来创建对象</h2><ul>
<li>构造函数<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name=name;</span><br><span class="line">    <span class="keyword">this</span>.age=age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1=<span class="keyword">new</span> Person(<span class="string">"赵云"</span>,<span class="number">18</span>)</span><br></pre></td></tr></table></figure></li>
<li>说明：<code>p1就是根据【Person构造函数】创建出来的对象</code></li>
</ul>
<h3 id="构造函数的概念"><a href="#构造函数的概念" class="headerlink" title="构造函数的概念"></a>构造函数的概念</h3><ul>
<li>任何函数都可以当成构造函数<br>  <code>function CreateFunc(){ }</code></li>
<li>只要把一个函数通过new的方式来进行调用，我们就把这一次函数的调用方式称之为：构造函数的调用<ul>
<li>new CreateFunc(); 此时CreateFunc就是一个构造函数</li>
<li>CreateFunc();     此时的CreateFunc并不是构造函数</li>
</ul>
</li>
</ul>
<h3 id="关于new-Object"><a href="#关于new-Object" class="headerlink" title="关于new Object()"></a>关于new Object()</h3><ul>
<li>new Object()等同于对象字面量{}</li>
</ul>
<h3 id="构造函数的执行过程"><a href="#构造函数的执行过程" class="headerlink" title="构造函数的执行过程"></a>构造函数的执行过程</h3><p><code>var p1=new Person();</code></p>
<ul>
<li>1、创建一个对象 (我们把这个对象称之为Person构造函数的实例)- <code>_p1</code></li>
<li>2、创建一个内部对象，<code>this</code>，将this指向该实例(_p1)</li>
<li>3、执行函数内部的代码，其中，操作this的部分就是操作了该实例(_p1)</li>
<li>4、返回值：<ul>
<li>a、如果函数没有返回值(没有return语句)，那么就会返回构造函数的实例(p1)</li>
<li>b、如果函数返回了一个基本数据类型的值，那么本次构造函数的返回值是该实例(_p1)<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f1=<span class="keyword">new</span> fn();    <span class="comment">//f1就是fn的实例</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn2</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">"abc"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f2=<span class="keyword">new</span> fn2();   <span class="comment">//f2是fn2构造函数的实例</span></span><br></pre></td></tr></table></figure></li>
<li>c、如果函数返回了一个复杂数据类型的值，那么本次函数的返回值就是该值<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn3</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]; </span><br><span class="line">    <span class="comment">//数组是一个对象类型的值，</span></span><br><span class="line">    <span class="comment">//所以数组是一个复杂数据类型的值</span></span><br><span class="line">    <span class="comment">//--&gt;本次构造函数的真正返回值就是该数组</span></span><br><span class="line">    <span class="comment">//--&gt;不再是fn3构造函数的实例</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f3=<span class="keyword">new</span> fn3();   <span class="comment">//f3还是fn3的实例吗？错</span></span><br><span class="line"><span class="comment">//f3值为[1,3,5]</span></span><br></pre></td></tr></table></figure>




</li>
</ul>
</li>
</ul>
<h2 id="继承"><a href="#继承" class="headerlink" title="继承"></a>继承</h2><h3 id="JS中继承的概念："><a href="#JS中继承的概念：" class="headerlink" title="JS中继承的概念："></a>JS中继承的概念：</h3><ul>
<li>通过【某种方式】让一个对象可以访问到另一个对象中的属性和方法，我们把这种方式称之为继承  <code>并不是所谓的xxx extends yyy</code></li>
</ul>
<h3 id="为什么要使用继承？"><a href="#为什么要使用继承？" class="headerlink" title="为什么要使用继承？"></a>为什么要使用继承？</h3><ul>
<li>有些对象会有方法(动作、行为)，而这些方法都是函数，如果把这些方法和函数都放在构造函数中声明就会导致内存的浪费<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.say=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"你好"</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> p1=<span class="keyword">new</span> Person();</span><br><span class="line"><span class="keyword">var</span> p2=<span class="keyword">new</span> Person();</span><br><span class="line"><span class="built_in">console</span>.log(p1.say === p2.say);   <span class="comment">//false</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="继承的第一种方式：原型链继承1"><a href="#继承的第一种方式：原型链继承1" class="headerlink" title="继承的第一种方式：原型链继承1"></a>继承的第一种方式：原型链继承1</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype.say=<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"你好"</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>缺点：添加1、2个方法无所谓，但是如果方法很多会导致过多的代码冗余</li>
</ul>
<h3 id="继承的第二种方式：原型链继承2"><a href="#继承的第二种方式：原型链继承2" class="headerlink" title="继承的第二种方式：原型链继承2"></a>继承的第二种方式：原型链继承2</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Person.prototype=&#123;</span><br><span class="line">    <span class="keyword">constructor</span>:Person,</span><br><span class="line">    say:function()&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"你好"</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    run:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">"正在进行百米冲刺"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>注意点：</li>
<li>a、一般情况下，应该先改变原型对象，再创建对象</li>
<li>b、一般情况下，对于新原型，会添加一个constructor属性，从而不破坏原有的原型对象的结构</li>
</ul>
<h3 id="继承的第三种方式：拷贝继承-混入继承"><a href="#继承的第三种方式：拷贝继承-混入继承" class="headerlink" title="继承的第三种方式：拷贝继承(混入继承)"></a>继承的第三种方式：拷贝继承(混入继承)</h3><ul>
<li><p>场景：有时候想使用某个对象中的属性，但是又不能直接修改它，于是就可以创建一个该对象的拷贝</p>
</li>
<li><p>实现1：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> source=&#123;<span class="attr">name</span>:<span class="string">"李白"</span>,<span class="attr">age</span>:<span class="number">15</span>&#125;</span><br><span class="line"><span class="keyword">var</span> target=&#123;&#125;;</span><br><span class="line">target.name=source.name</span><br><span class="line">target.age=source.age;</span><br></pre></td></tr></table></figure>
</li>
<li><p>上面的方式很明显无法重用，实际代码编写过程中，很多时候都会使用拷贝继承的方式，所以为了重用，可以编写一个函数把他们封装起来：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">extend</span>(<span class="params">target,source</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(key <span class="keyword">in</span> source)&#123;</span><br><span class="line">        target[key]=source[key];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> target;</span><br><span class="line">&#125;</span><br><span class="line">extend(target,source)</span><br></pre></td></tr></table></figure>
</li>
<li><p>由于拷贝继承在实际开发中使用场景非常多，所以很多库都对此有了实现</p>
<ul>
<li>jquery：$.extend</li>
</ul>
</li>
<li><p>es6中有了对象扩展运算符仿佛就是专门为了拷贝继承而生：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> source=&#123;<span class="attr">name</span>:<span class="string">"李白"</span>,<span class="attr">age</span>:<span class="number">15</span>&#125;</span><br><span class="line"><span class="keyword">var</span> target=&#123; ...source &#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="继承的第四种方式：原型式继承"><a href="#继承的第四种方式：原型式继承" class="headerlink" title="继承的第四种方式：原型式继承"></a>继承的第四种方式：原型式继承</h3><ul>
<li>场景：<ul>
<li>创建一个纯洁的对象</li>
<li>创建一个继承自某个父对象的子对象</li>
</ul>
</li>
<li>使用方式：<ul>
<li>空对象：Object.create(null)</li>
<li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o1=&#123; <span class="attr">say</span>:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125; &#125;</span><br><span class="line"><span class="keyword">var</span> o2=<span class="built_in">Object</span>.create(o1);</span><br></pre></td></tr></table></figure>

</li>
</ul>
</li>
</ul>
<h3 id="继承的第五种方式：借用构造函数实现继承"><a href="#继承的第五种方式：借用构造函数实现继承" class="headerlink" title="继承的第五种方式：借用构造函数实现继承"></a>继承的第五种方式：借用构造函数实现继承</h3><ul>
<li>场景：适用于2种构造函数之间逻辑有相似的情况<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">function Animal(name)&#123;</span><br><span class="line">    this.name&#x3D;name;</span><br><span class="line">&#125;</span><br><span class="line">function Person(name,age)&#123;</span><br><span class="line">    this.name&#x3D;name;</span><br><span class="line">    this.age&#x3D;age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li>以上代码用借用构造函数实现<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params">name,age</span>)</span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.name=name;</span><br><span class="line">    <span class="keyword">this</span>.age=age;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name,age,address</span>)</span>&#123;</span><br><span class="line">    Animal.call(<span class="keyword">this</span>,name);</span><br><span class="line">    <span class="comment">//this.name=name;</span></span><br><span class="line">    <span class="comment">//this.age=age;</span></span><br><span class="line">    <span class="keyword">this</span>.address=address;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h2 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h2><h2 id="闭包"><a href="#闭包" class="headerlink" title="闭包"></a>闭包</h2><h3 id="变量作用域"><a href="#变量作用域" class="headerlink" title="变量作用域"></a>变量作用域</h3><ul>
<li>变量作用域的概念：就是一个变量可以使用的范围</li>
<li>JS中首先有一个最外层的作用域：称之为全局作用域</li>
<li>JS中还可以通过函数创建出一个独立的作用域，其中函数可以嵌套，所以作用域也可以嵌套</li>
</ul>
<h3 id="作用域链"><a href="#作用域链" class="headerlink" title="作用域链"></a>作用域链</h3><ul>
<li><p>由于作用域是相对于变量而言的，而如果存在多级作用域，这个变量又来自于哪里？这个问题就需要好好地探究一下了，我们把这个变量的查找过程称之为变量的作用域链</p>
</li>
<li><p>简单来说，作用域链可以用以下几句话来概括：(或者说：确定一个变量来自于哪个作用域)</p>
<ul>
<li>查看当前作用域，如果当前作用域声明了这个变量，就确定结果<ul>
<li>查找当前作用域的上级作用域，也就是当前函数的上级函数，看看上级函数中有没有声明<ul>
<li>再查找上级函数的上级函数，直到全局作用域为止<ul>
<li>如果全局作用域中也没有，我们就认为这个变量未声明(xxx is not defined)</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><p>举例1：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">"张三"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> name=<span class="string">"abc"</span>;</span><br><span class="line">    <span class="built_in">console</span>.log(name);</span><br><span class="line">&#125;</span><br><span class="line">f1();</span><br></pre></td></tr></table></figure>
</li>
<li><p>举例2：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">"张三"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(name);</span><br><span class="line">    <span class="keyword">var</span> name=<span class="string">"abc"</span>;</span><br><span class="line">&#125;</span><br><span class="line">f1();</span><br></pre></td></tr></table></figure>
</li>
<li><p>举例3：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">"张三"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(name);</span><br><span class="line">    <span class="keyword">var</span> name=<span class="string">"abc"</span>;</span><br><span class="line">&#125;</span><br><span class="line">f1();</span><br></pre></td></tr></table></figure>
</li>
<li><p>举例4：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">"张三"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(name);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> name=<span class="string">"abc"</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fn=f1();</span><br><span class="line">fn();</span><br></pre></td></tr></table></figure>
</li>
<li><p>举例5：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> name=<span class="string">"张三"</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        say:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(name);</span><br><span class="line">            <span class="keyword">var</span> name=<span class="string">"abc"</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fn=f1();</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="闭包的问题"><a href="#闭包的问题" class="headerlink" title="闭包的问题"></a>闭包的问题</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> a=<span class="number">5</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        a++;</span><br><span class="line">        <span class="built_in">console</span>.log(a);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> f1=fn();</span><br><span class="line">f1();</span><br><span class="line">f1();</span><br><span class="line">f1();</span><br></pre></td></tr></table></figure>

<h3 id="闭包问题的产生原因"><a href="#闭包问题的产生原因" class="headerlink" title="闭包问题的产生原因"></a>闭包问题的产生原因</h3><ul>
<li>函数执行完毕后，作用域中保留了最新的a变量的值</li>
</ul>
<h3 id="闭包的应用场景"><a href="#闭包的应用场景" class="headerlink" title="闭包的应用场景"></a>闭包的应用场景</h3><ul>
<li>模块化</li>
<li>防止变量被破坏</li>
</ul>
<h3 id="函数的4种调用方式"><a href="#函数的4种调用方式" class="headerlink" title="函数的4种调用方式"></a>函数的4种调用方式</h3><ul>
<li>在<code>ES6之前</code>，函数内部的this是由该函数的调用方式决定的<ul>
<li>函数内部的this跟大小写、书写位置无关</li>
</ul>
</li>
<li>1、函数调用<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age=<span class="number">18</span>;</span><br><span class="line"><span class="keyword">var</span> p=&#123;</span><br><span class="line">    age:<span class="number">15</span></span><br><span class="line">    say:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);<span class="comment">//window.age:18</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> s1=p.say</span><br><span class="line">s1();       <span class="comment">//函数调用</span></span><br></pre></td></tr></table></figure></li>
<li>2、方法调用<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age=<span class="number">18</span>;</span><br><span class="line"><span class="keyword">var</span> p=&#123;</span><br><span class="line">    age:<span class="number">15</span></span><br><span class="line">    say:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);<span class="comment">//this:p</span></span><br><span class="line">        <span class="comment">//this.age-&gt;p.age:15</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">p.say()<span class="comment">//方法调用</span></span><br></pre></td></tr></table></figure></li>
<li>3、new调用(构造函数)<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> age=<span class="number">18</span>;</span><br><span class="line"><span class="keyword">var</span> p=&#123;</span><br><span class="line">    age:<span class="number">15</span></span><br><span class="line">    say:<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">        <span class="comment">//this：say构造函数的实例,实例中并没有age属性，值为：undefined</span></span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">this</span>.age);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> p.say()<span class="comment">//构造函数调用</span></span><br><span class="line"><span class="comment">//相当于：</span></span><br><span class="line"><span class="keyword">var</span> s1=p.say;</span><br><span class="line"><span class="keyword">new</span> s1();</span><br></pre></td></tr></table></figure></li>
<li>4、上下文方式(call、apply、bind)<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> length=<span class="number">21</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f1</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.length);</span><br><span class="line">&#125;</span><br><span class="line">f1.call([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>])    <span class="comment">//3</span></span><br><span class="line">f1.apply(<span class="keyword">this</span>)      <span class="comment">//window.length：21</span></span><br><span class="line">f1.call(<span class="number">5</span>)          <span class="comment">//undefined</span></span><br></pre></td></tr></table></figure></li>
</ul>
<ul>
<li>上下文模式应用场景：<br>  -call和apply的区别在于传参的方式不同，call的第二个参数是以参数列表的形式，apply的第二个参数是以数组的方式进行传参。<ul>
<li>一些需要指定this的情况，比如$.each方法回调函数内部的this</li>
<li>判断数据类型：<ul>
<li>Object.prototype.toString.call(1);</li>
</ul>
</li>
</ul>
</li>
</ul>
<ul>
<li>在ES6的箭头函数之前的时代，想要判断一个函数内部的this指向谁，就是根据上面的四种方式来决定的</li>
</ul>
<h3 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h3><ul>
<li>原型很多人开发用不到？<ul>
<li>很多人都用es6/7/8开发，确实用的比较少</li>
<li>如果你用es5之前的版本开发代码(IE8、IE7。。。)，可能天天都要写原型</li>
<li>理解了原型，才是理解了JS面向对象的核心</li>
</ul>
</li>
<li>类继承其实本质上还是用原型继承来(包装)的</li>
</ul>
<h2 id="对象的属性查找规则"><a href="#对象的属性查找规则" class="headerlink" title="对象的属性查找规则"></a>对象的属性查找规则</h2><p>//–&gt;1、首先查看本身有没有length属性<br>//–&gt;2、如果本身没有该属性，那么去它的原型对象中查找<br>//–&gt;3、如果原型对象中没有，那么就去原型对象的原型对象中查找，最终一直找到根对象（Object.prototype）<br>//–&gt;4、最终都没有找到的话，我们认为该对象并没有该属性，如果获取该属性的值：undefined</p>

        </div>

        
            <section class="post-copyright">
                
                    <p class="copyright-item">
                        <span>Author:</span>
                        <span>Brace</span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>Permalink:</span>
                        <span><a href="zhuxinzeng.club/2018/06/16/Javascript%E4%B9%8B%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">zhuxinzeng.club/2018/06/16/Javascript%E4%B9%8B%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/</a></span>
                    </p>
                
                
                    <p class="copyright-item">
                        <span>License:</span>
                        <span>Copyright (c) 2019 <a href="http://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC-BY-NC-4.0</a> LICENSE</span>
                    </p>
                
                
                     <p class="copyright-item">
                         <span>Slogan:</span>
                         <span>Do you believe in <strong>DESTINY<strong>?</span>
                     </p>
                

            </section>
        
        <section class="post-tags">
            <div>
                <span>Tag(s):</span>
                <span class="tag">
                    
                    
                        <a href="/tags/Javascript/"># Javascript</a>
                    
                        
                </span>
            </div>
            <div>
                <a href="javascript:window.history.back();">back</a>
                <span>· </span>
                <a href="/">home</a>
            </div>
        </section>
        <section class="post-nav">
            
                <a class="prev" rel="prev" href="/2018/06/19/ES6%E5%9F%BA%E7%A1%80/">ES6基础</a>
            
            
            <a class="next" rel="next" href="/2018/05/22/Javascript%E4%B9%8B%E9%97%AD%E5%8C%85%E8%AF%A6%E8%A7%A3/">Javascript之闭包详解</a>
            
        </section>


    </article>
</div>

        </div>
        <footer id="footer" class="footer">
    <div class="copyright">
        <span>© Brace | Powered by <a href="https://hexo.io" target="_blank">Hexo</a> & <a href="https://github.com/Siricee/hexo-theme-Chic" target="_blank">Chic</a></span>
    </div>
</footer>

    </div>
</body>
</html>
